## mtr快速入门

#### mtr介绍

​        在Linux中有一个更好的网络连通性判断工具，它可以结合ping nslookup tracert 来判断网络的相关特性,这个命令就是mtr。

```shell
apt install mtr # 安装mtr
man mtr 		# 查看帮助文档
```

#### mtr简单使用

```shell
mtr -r 202.108.33.94
Start: Wed Sep 26 15:54:58 2018
HOST: test-System                 Loss%   Snt   Last   Avg  Best  Wrst StDev
  1.|-- 172.17.228.1               0.0%    10    2.7   6.4   2.7  22.5   6.0
  2.|-- ???                       100.0    10    0.0   0.0   0.0   0.0   0.0
  3.|-- 60.191.59.161              0.0%    10    3.4   5.5   1.8  22.4   6.1
  4.|-- 61.164.22.236              0.0%    10    1.7   5.6   1.7  21.9   6.0
  5.|-- 220.191.143.161            0.0%    10   12.6   7.3   2.0  12.6   3.4
  6.|-- 202.97.68.165             10.0%    10   45.2  34.2  24.8  50.7  10.2
  7.|-- 202.97.57.118             70.0%    10   39.1  41.8  25.5  60.8  17.8
  8.|-- 219.158.44.121            20.0%    10   48.1  35.4  29.0  48.1   7.7
  9.|-- 219.158.5.137              0.0%    10   60.9  42.0  30.7  80.8  16.4
 10.|-- 124.65.194.106             0.0%    10   55.5  37.8  27.5  55.5  11.0
 11.|-- 61.148.143.18              0.0%    10   49.3  36.2  25.2  78.7  17.2
 12.|-- 210.74.178.198             0.0%    10   51.9  38.8  27.3  75.7  18.2
 13.|-- ???                       100.0    10    0.0   0.0   0.0   0.0   0.0
```

##### 报告说明： 

+ 第一列:  显示的是IP地址和本机域名，这点和tracert很像。
+ 第二列:  snt:10 设置每秒发送数据包的数量，默认值是10 可以通过参数 -c来指定。

+ 第三列:  显示的每个对应IP的丢包率 

+ 第四列:  显示的最近一次的返回时延 

+ 第五列:  平均值 这个应该是发送ping包的平均时延 

+ 第六列:  最好或者说时延最短的 

+ 第七列:  最差或者说时延最常的 

+ 第八列:  标准偏差 



  mtr -s  	用来指定ping数据包的大小 
  mtr -n 	no-dns不对IP地址做域名解析 
  mtr -a 	来设置发送数据包的IP地址 这个对一个主机由多个IP地址是有用的 
  mtr -i 	使用这个参数来设置ICMP返回之间的要求默认是1秒 
  mtr -4 	IPv4 
  mtr -6 	IPv6

#### 参考资料

+ [mtr](https://github.com/traviscross/mtr)

+ [《Linux下使用mtr做路由图进行网络分析》](https://jingyan.baidu.com/article/b24f6c82db8fcc86bfe5dab8.html)

+ [《如何读懂MTR报告》](https://blog.csdn.net/xiao161204/article/details/53487574)